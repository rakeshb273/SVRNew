@page "/BillEdit"
@using SVR.Data.Entitites;
<EditForm Model="BillUM" OnInvalidSubmit="Submit">
    <div class="container ">
        <div class="form">
            <div class="form-content">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <select class="form-select form-control" aria-label="Default select example">
                                @*@onselectionchange="CustomerChanged"*@
                                <option selected value="">Select Billing Customer</option>
                                @foreach (Customer customer in Customers)
                                {
                                    <option value=@customer.ID>@customer.Name</option>
                                }

                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label></label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">

                        <div class="form-group">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col" width="25%">Description Of Goods</th>
                                        <th scope="col">HSN Code</th>
                                        <th scope="col">Quantity    <b>(Kgs)</b> </th>
                                        <th scope="col">Rate     <b> (₹)</b></th>
                                        <th scope="col">Total </th>
                                        <th scope="col">
                                            <button type="button" class="btn btn-primary  form-control" @onclick="AddBillItem">Add</button>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var billitem in BillUM.billItems)
                                    {
                                        <tr>
                                            <td width="25%"> <input type="text" class="form-control" @bind-value=billitem.Name /></td>
                                            <td> <input type="text" class="form-control" @bind-value=billitem.HSNCode /></td>
                                            <td> <input type="text" class="form-control" @bind-value=billitem.Quantity /></td>
                                            <td> <input type="text" class="form-control" @bind-value=billitem.Price /></td>
                                            <td>@billitem.Amount</td>
                                            <td> <button type="button" class="form-control btnSubmit" @onclick="@(() => RemoveBillItem(billitem))">Remove</button></td>
                                        </tr>
                                    }

                                </tbody>


                            </table>

                            <div class="row">
                                <div class="col-md-12">

                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td scope="col" rowspan="5" width="50%"><b>Rupees in words (₹): </b> <p>@Common.Gerenal.ConvertNumbertoWords(@BillUM.GrandTotal)</p></td>
                                                <td scope="col">Net Value </td>
                                                <td scope="col"> @BillUM.NetValue </td>
                                            </tr>
                                            <tr>
                                                <td scope="col">CGST ( @BillUM.CGST %)</td>
                                                <td scope="col"> @(BillUM.NetValue * BillUM.CGST) </td>
                                            </tr>
                                            <tr>
                                                <td scope="col">SGST ( @BillUM.SGST % )</td>
                                                <td scope="col">@(BillUM.NetValue * BillUM.SGST) </td>
                                            </tr>
                                            <tr>
                                                <td scope="col">Total </td>
                                                <td scope="col"> @BillUM.Total </td>
                                            </tr>
                                            @*<tr>
                                                    <td scope="col">Net Value </td>
                                                    <td scope="col"> @BillUM.NetValue </td>
                                                </tr>*@
                                            <tr>
                                                <td scope="col">Grand Total </td>
                                                <td scope="col"> @BillUM.GrandTotal </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                                @*<div class="col-md-6">
                                        <div class="form-group">
                                            <div class="row">
                                                <span>Net Value :</span>
                                                <label > @BillUM.NetValue</label>
                                            </div>
                                            <div class="row">
                                                <span>SGST :</span>
                                                <label > @(BillUM.NetValue * BillUM.SGST)</label>
                                            </div>
                                            <div class="row">
                                                <span>CGST :</span>
                                                <label > @(BillUM.NetValue * BillUM.CGST)</label>
                                            </div>
                                            <div class="row">
                                                <span>Total :</span>
                                                <label > @BillUM.Total</label>
                                            </div>
                                        </div>
                                    </div>*@
                            </div>
                        </div>
                    </div>
                    @*<div class="col-md-6">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Your Password *" value="" />
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Confirm Password *" value="" />
                            </div>
                        </div>*@
                </div>
                <button type="button" class="btnSubmit">Submit</button>
            </div>
        </div>


    </div>
</EditForm>

@code {


}
